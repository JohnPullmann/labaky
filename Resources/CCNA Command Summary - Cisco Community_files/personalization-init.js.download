window.cdc===void 0&&(window.cdc={});cdc.context===void 0&&(cdc.context=function(a,w){var r="unknown",c=["dev","stage","prod"],d=["fdk-pstage","fdk-stage","fdk-devint","fdk-author-pstage"],g=c.concat([r]),f={prod:["www[0-9]*","apps","cdx","cepx-active-prod[0-9]*","wemapp-(author|publish)-(prod[0-9]|nprd)[0-9]*-[0-9]*","www-(author|test|publish|author3|author4)","www-(author|test|publish|author3|author4)-nprd","wwwin-tools","cisco-apps","grs","investor","newsroom","origin-software","software","sso[0-9]*","cloudsso[0-9]*","tools","webapps","wwwin",".*.cloudapps",".*.cisco","^nic$"],stage:["apps-lt","apps-stage","cdx-stage","(cepx|ecmx)-(active|staging|wip)-(lt|stage)[0-9]*","fdk-author-lt","fdk-author3-lt","fdk-author4-lt","fdk-(author|publish)*[0-9]*-stage","fdk-author3-stage","fdk-author4-stage","fdk-author-pstage","fdk-author3-pstage","fdk-author4-pstage","fdk-author-pstage3","(www(in)?-)?fdk-(publish-)?lt[0-9]*","(www(in)?-)?fdk-(publish-)?.?stage[0-9]*","wemapp-(author|publish)-.?stage[0-9]*-[0-9]*","software-lt","software-stage","sso-nprd[0-9]*","cloudsso-test[0-9]*","tools-lt","tools-stage","www-lt[0-9]*","www-(author-|publish-)*stage[0-9]*","webapps-lt","webapps-stage","wwwin-tools-(dev|stage|lt)","wwwin-stage",".*-stage.cloudapps",".*-lt.cloudapps","cdcsearch-stage","rt3-stage"],dev:["apps-dev","cdx-dev","cepx-active-dev[0-9]*","ecmx-active-dev[0-9]*","fdk-(author-)?dev[0-9]*","fdk-(author3-)?dev[0-9]*","fdk-(author4-)?dev[0-9]*","(www(in)?-)?fdk-(author-)?devint[0-9]*","(www(in)?-)?fdk-(author3-)?devint[0-9]*","(www(in)?-)?fdk-(author4-)?devint[0-9]*","wemapp-(author|publish)-(dev|devint|idev)[0-9]*-[0-9]*","software-dev","sso-idev[0-9]*","fdk-author4-idev[0-9]*","cloudsso-idev[0-9]*","tools-dev","www-(dev|idev)[0-9]*","localhost","webapps-dev","wwwin-dev","rt3-devint",,".*-dev.cloudapps",".*.cisco.com:4502"]},u={writable:!1,enumerable:!1,configurable:!1},b=function(){let e=new RegExp("^("+g.join("|").slice(0,-1)+")$");return typeof cdcext<"u"&&typeof cdcext.customEnvironment<"u"&&cdcext.customEnvironment.match(e)},m=function(){let e=a.location.host,o=e.split(".")[0];return d.some(function(i){return o.match(i)!=null})},h=function(){return b()?cdcext.customEnvironment:v(a.location.host)},E=function(e){if(e){var o=e.split("."),i=a,s,l;for(s=0;s<o.length;s++)l=o[s],typeof i[l]!="object"&&(i[l]={}),i=i[l]}},N=function(e){return new RegExp("^("+e.join("|")+")(\\.|:|$)")},v=function(e){e=e.replace(/\.cisco\.com$|\.cisco$/i,"");let o={};return c.forEach(function(i){o[i]=N(f[i])}),function(i){var s=r;return c.forEach(function(l){o[l].test(i)&&(s=s===r?l:s)}),s}(e)},t=function(){return!!document.querySelectorAll("#login-form").length},n=function(e,o){o||(o="cacheReset");let i="?";return e.match(/(ng-prod1|\?)/)&&(i="&"),e+i+o+"="+cdc.context.randomNumber()},p=function(e){e||(e=1e3);let o=Math.floor(Math.random()*e)+1;return new Date().getTime()+"-"+o},T={getConfigInfo:function(e,o){try{return JSON.parse(o===!0?sessionStorage[e]:localStorage[e])}catch{return!1}},deleteConfigInfo:function(e,o){try{return o===!0?sessionStorage.removeItem(e):localStorage.removeItem(e),!0}catch{return!1}}};let y={findEnvironment:h,matchEnvironment:v,isLoginPage:t,randomNumber:p,ensureNamespace:E,cacheBust:n,ls:T,UNKNOWN_ENVIRONMENT_KEY:r,KNOWN_ENVIRONMENT_KEYS:c,STANDARD_ENVIRONMENT_KEYS:g,PATTERN_FRAGMENTS:f,FULL_WEM_ENV_LIST:d,matchesTrueWemEnv:m};return Object.defineProperties(y,{UNKNOWN_ENVIRONMENT_KEY:u,KNOWN_ENVIRONMENT_KEYS:u,STANDARD_ENVIRONMENT_KEYS:u,PATTERN_FRAGMENTS:u}),y}(window));typeof cpe>"u"&&(cpe={});cpe.trgt=function(){let a=new Map([["prod","www"],["stage","fdk-stage"],["dev","fdk-devint"]]);var w=[],r=function(n){var n=n||"";n!==""&&w.push(n);var p=document.location.search,T=/(\?|\&)gdprLog\=true/ig;(typeof localStorage=="object"&&typeof localStorage.gdprLog<"u"||T.test(p))&&console.log(n)},c=function(){var t=Object.fromEntries(document.cookie.split("; ").map(p=>p.split("="))).OptanonConsent,n=/(\=|\,)[2]\:[0]/g;return t!=""&&n.test(t)?"false":"true"},d=[],g=function(){return[].slice.call(document.getElementsByClassName("mboxDefault"))},f=function(){var t=g(),n=t[t.length-1];return n},u=function(t,n){t.style.visibility=n},b=function(){var t=f();t.id=arguments[0];var n={arguments:[].slice.call(arguments),div:t};d.push(n)},m=function(){r("## removeTargetableCss called ##"),setTimeout(function(){typeof document.getElementsByClassName("pzn-styles")[0]<"u"&&(r("## targetableCss removed ##"),document.head.removeChild(document.getElementsByClassName("pzn-styles")[0]));var t=g();r("## regionalMboxElements ##"),t.forEach(function(n){r("## visible mboxdefault  ##",n),u(n,"visible")})},300)},h=function(){if(cpe.trgt.personalizationObj=cpe.trgt.personalizationObj!=null?cpe.trgt.personalizationObj:{},cpe.trgt.personalizationObj.async=!0,window.location.href.indexOf("/dcloud-docs")>-1&&(cpe.trgt.personalizationObj.loadDcloud=!0,cpe.trgt.personalizationObj.safetyTimeout=6e3,cpe.trgt.personalizationObj.hideMethod="elements",cpe.trgt.personalizationObj.at_property="8c59ce03-251e-8108-8ea8-1b5719b51312"),cpe.trgt.personalizationObj.entity!=null){let t=JSON.parse(cpe.trgt.personalizationObj.entity);t.pageUrl=window.location.href,document.getElementsByName("title")[0]&&(t.pageTitle=document.getElementsByName("title")[0].getAttribute("content")),document.getElementsByName("description")[0]&&(t.pageDescription=document.getElementsByName("description")[0].getAttribute("content")),cpe.trgt.personalizationObj.entity=JSON.stringify(t)}Targeter.load(cpe.trgt.personalizationObj)},E=async function(){let t=`https://${a.get(P)}.cisco.com/c/dam/cdc/j/targeter-bundle-gdpr_min.js`;r("## launch of Targeterbundle ##"),r("Performance Flag: ",c()),c()==="true"&&await import(t)},N=async function(){let t=`https://${a.get(P)}.cisco.com/c/dam/cdc/j/VisitorAPI.js`;r("## launch of Visitor ID service ##"),c()==="true"&&await import(t)},v=async function(){console.log("ctm.gdpr.getPerformanceFlag ",ctm.gdpr.getPerformanceFlag()),typeof ctm.gdpr=="object"&&typeof ctm.gdpr.getPerformanceFlag=="function"&&ctm.gdpr.getPerformanceFlag()=="false"?(r("#### Removing TargetableCSS #####"),m()):(r("#### Initiating Visitor API and Targeter Bundle ######"),await Promise.all([N(),E()]),h())};return{regionalMboxQueue:d,mboxCreate:b,removeTargetableCss:m,initPzn:v,gdprLogQueue:w,consoleLog:r}}();setTimeout(cpe.trgt.removeTargetableCss,6e3);window.mboxCreate=cpe.trgt.mboxCreate;window.regionalMboxQueue=cpe.trgt.regionalMboxQueue;var x=cdc.context.findEnvironment(),P=x==="unknown"?"prod":x,O=!1;typeof ctm.gdpr=="object"&&typeof ctm.gdpr.isOTEnabled=="function"&&ctm.gdpr.isOTEnabled()?(typeof ctm.gdpr.initiatePznLib=="function"&&(ctm.gdpr.initiatePznLib=function(a){typeof a=="object"&&a.event==="PznInitialLoad"&&!O&&typeof ctm.gdpr.eventqueue<"u"&&ctm.gdpr.eventqueue.length===0&&(cpe.trgt.consoleLog("First Visit: Personalization initiation delayed, till OT sets groups values in Cookie "+a.event),a.isEU==="false"?cpe.trgt.initPzn(!0):(cpe.trgt.consoleLog("### First Visit EU: Removing TargetableCSS ####"),cpe.trgt.removeTargetableCss()))}),ctm.gdpr.isFirstVisit?(ctm.gdpr.eventqueue.length>0&&ctm.gdpr.eventqueue[0].event==="PznInitialLoad"&&(cpe.trgt.consoleLog("First Visit: Personalization initiation delayed, till OT sets groups values in Cookie, eventqueue execution "),ctm.gdpr.eventqueue[0].isEU==="false"?cpe.trgt.initPzn(!0):(cpe.trgt.consoleLog("### First Visit EU: Removing TargetableCSS-- eventqueue execution ####"),cpe.trgt.removeTargetableCss())),ctm.gdpr.isOTCookieAvailable()&&(cpe.trgt.consoleLog("First Visit : Personalization initiation not delayed"),O=!0,cpe.trgt.initPzn())):(cpe.trgt.consoleLog("Subsequent Visit: Personalization initiation not delayed"),O=!0,cpe.trgt.initPzn())):(cpe.trgt.consoleLog("OT not enabled for this domain"),cpe.trgt.initPzn());
